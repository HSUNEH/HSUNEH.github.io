---
layout: single
title:  "AI : MLOps"
categories : AI_service
tag : 
toc : true
---

# Ml Ops 개론

문제 정의

EDA

Feature engineering

train

predict

(deploy) : output을 주세요


모델 결과값이 이상하면
: 원인 파악, 인풋 이상치 확인

모델 성능이 이상
: 정형 데이터는 알 수도 있지만 비정형은? -> 모델이 좋은지 확인

새로운 모델이 더 안 좋다면?
: 과거의 모델을 쓰기 위한 작업 필요.



ML Ops 란?

![image-20221107113300873](/images/2022-11-07-daily/image-20221107113300873.png)

머신러닝 뿐만 아니라 데이터 엔지니어링, 클라우드, 인프라 등을 만들고 자동으로 운영되도록 만드는 일.

-> 아이디어 부터 production 까지 


라이브러리에 집중하기 보다는 왜, 어떻게 쓰는지에 집중하여 학습하자( 너무 많음)

MLOps : 어떤 문제를 해결하고 싶고, 그 문제를 어떤 방식으로 해결할지 공부


# MLOps Component

## Server (인프라)
트래픽/ CPU, 메모리/ 스케일 업,아웃 가능 / 자체 서버 구축 or 클라우드 

## Serving

+ Batch serving : 데이터 처리 묶어서 한번에
+ Online serving : 한번에 하나 씩 실시간 전달. 

## Experiment, Model management

어떤 조합이 좋은지 기록해보면서 최고의 조합을 찾음.

모델 생성일, 모델 성능, 모델 메타 정보 등을 기록해 둘 수 있음.

공통의 코드를 작성하여 알아서 작성될 수 있도록 함.

- 대표적으로 mlflow 가 있다.
autologging 기능이 있어서 알아서 실험이 기록된다.

팀프로젝트 공용 mlflow 서버를 만들면 누구꺼가 더 좋은지 비교도 가능.


## Feature Store
: 미리 프리셋을 만들어 놓자.

-> 데이터 전처리 시간을 줄일 수 있다. (단 tabular 데이터에서 많이 사용됨)


ex) FEAST 

## Data validation
: feature의 분포 차이 확인 (재료 확인)

Data drift, model drift, Concept drift
ex) TFDV, AWS Deequ

## Continuous Training
: 새로운 데이터가 도착한 경우 새롭게 모델 retrain

1) 새로운 데이터
2) 일정 기간마다
3) metric 기반 score 감소
4) 요청시


## Monitoring

로깅 잘하자 

## AutoML

데이터만 주면 알아서 모델을 만드는 경우

ex) Microsoft nni


